<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

        table {
            border-collapse: collapse;
            text-align: left;
            line-height: 1.5;
            margin : 20px 10px;
        }
        table th {
            width: 150px;
            padding: 10px;
            font-weight: bold;
            vertical-align: top;
            border: 1px solid #ccc;
        }
        table td {
            width: 350px;
            padding: 10px;
            vertical-align: top;
            border: 1px solid #ccc;
        }
        textarea{
            width:100%;
        }
        
    </style>
</head>
<body>
    <table>
        <tr>
            <td>점검일시</td>
            <td id="date">2021. .</td>
            <td colspan="2">점검장소(국사명)</td>
            <td colspan="2"><input type="text" id="check" placeholder="국사명" onkeydown="enterkey();"></td>
        </tr>
        <tr>
            <td>사업자명</td>
            <td><input type="text" id="company" readonly></td>
            <td>자가/임차</td>
            <td><input type="text" id=""></td>
            <td>유/무인 여부</td>
            <td><input type="text" id=""></td>
        </tr>
        <tr>
            <td rowspan="4">점검자</td>
            <td colspan="5" >(소속)<input type="text" id="team1" readonly> (직위)<input type="text" id="spot1" readonly> (성명)<input type="text" id="name1" readonly>(서명)</td> 
        </tr>
        <tr>
            <td colspan="5">(소속)<input type="text" id="team2" readonly> (직위)<input type="text" id="spot2" readonly> (성명)<input type="text" id="name2" readonly>(서명)</td>
        </tr>
        <tr>
            <td colspan="5">(소속)<input type="text" id="team3" readonly> (직위)<input type="text" id="spot3" readonly> (성명)<input type="text" id="name3" readonly>(서명)</td>
        </tr>
        <tr>
            <td colspan="5">(소속)<input type="text" id="team4" readonly> (직위)<input type="text" id="spot4" readonly> (성명)<input type="text" id="name4" readonly>(서명)</td>
        </tr>
        <tr>
            <td>확인자</td>
            <td colspan="5">(소속)<input type="text" id=""> (직위)<input type="text" id=""> (성명)<input type="text" id="">(서명)</td>
        </tr>
        <tr>
            <td>점검자 의견</td>
            <td colspan="5"><textarea></textarea></td>
        </tr>
    </table>

    <br>
    <table>
        <thead>
            <tr>
                <th>대분류</th>
                <th colspan="2">중분류</th>
                <th colspan="3">점검내용</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td rowspan="3">일반현황</td>
                <td colspan="2">건축물 연면적(임차면적), 준공일</td>
                <td colspan="3"><textarea></textarea></td>
            </tr>
            <tr>
                <td colspan="2">구조계산서 보유여부</td>
                <td colspan="3"><textarea></textarea></td>
            </tr>
            <tr>
                <td colspan="2">통신구 정기 정밀 안전점검 시행 실적</td>
                <td colspan="3"><textarea></textarea></td>
            </tr>

            <tr>
                <td rowspan="7">중요통신시설<br>등급분류<br>적정선</td>
                <td>1</td>
                <td>21년 방송통신재난관리기본계획 상 등급</td>
                <td id="old_grade">#</td>
                <td>점검결과</td>
                <td id ="end">C</td>
            </tr>
            <tr>
                <td colspan="2">커버리지(C급의 경우 관할 읍면 및 행정동 기재)</td>
                <td colspan="2"><textarea></textarea></td>
                <td>등급</td>
            </tr>
            <tr>
                <td colspan="2">수용 회선수(인터넷접속+인터넷전화+시내전화)</td>
                <td colspan="2">총 : <input style="width:90%;" type="text" name="" id="count" onkeydown="enterkey2();"></td>
                <td id ="countGrade">등급</td>
            </tr>
            <tr>
                <td colspan="2">수용 기지국(DU) 수</td>
                <td colspan="2">총 : <input style="width:90%;" type="text" name="" id="count2" onkeydown="enterkey3();"></td>
                <td id ="countGrade2">등급</td>
            </tr>
            <tr>
                <td colspan="2">음성통화 관련 주요 지원 기능 유무</td>
                <td colspan="2"><textarea></textarea></td>
                <td>등급</td>
            </tr>
            <tr>
                <td colspan="2">정보통신 주요 기능 유무</td>
                <td colspan="2"><textarea></textarea></td>
                <td>등급</td>
            </tr>
            <tr>
                <td colspan="2">미디어센터 수용 국사 유료방송 가입자수</td>
                <td colspan="2"><textarea></textarea></td>
                <td>등급</td>
            </tr>
        </tbody>
        
    </table>

    <script>

        function enterkey() {
            if (window.event.keyCode == 13) {
                settingValue();
            }
        }

        function enterkey2(){
            if (window.event.keyCode == 13) {
                let count = document.querySelector('#count').value;
                let val = document.querySelector('#countGrade');
                if(count >= 150000){
                    val.innerHTML = 'C';
                }else{
                    val.innerHTML = 'D';
                }
                end();
            }
        }

        function enterkey3(){
            if (window.event.keyCode == 13) {
                let count = document.querySelector('#count2').value;
                let val = document.querySelector('#countGrade2');
                if(count >= 22){
                    val.innerHTML = 'D';
                }else{
                    val.innerHTML = '등급 외';
                }
                end();
            }
        }

        function end(){
            if(document.querySelector('#countGrade2').innerHTML != '등급' && document.querySelector('#countGrade').innerHTML != '등급'){
                if(document.querySelector('#countGrade').innerHTML == 'D'){
                    document.querySelector('#end').innerHTML = 'D (부적정)';
                }else {
                    document.querySelector('#end').innerHTML = 'C (적정)';
                }
            }
        }
        
        function settingValue(){
            if(document.querySelector('#check').value == '경기 광주'){
                document.querySelector('#date').innerHTML = formatDate(new Date());
                document.querySelector('#company').value = 'KT';
                document.querySelector('#team1').value = '서울전파관리소';
                document.querySelector('#spot1').value = '팀장';
                document.querySelector('#name1').value = '문성두';
                document.querySelector('#team2').value = '서울전파관리소';
                document.querySelector('#spot2').value = '주무관';
                document.querySelector('#name2').value = '정유경';
                document.querySelector('#old_grade').innerHTML = 'C';
            }
        }

        function formatDate(date) { 
            var d = new Date(date), 
            month = '' + (d.getMonth() + 1), 
            day = '' + d.getDate(), 
            year = d.getFullYear(); 
            if (month.length < 2) 
                month = '0' + month; 
            if (day.length < 2) 
                day = '0' + day; 
            return [year, month, day].join('.'); }
    </script>
</body>
</html>